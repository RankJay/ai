{
  "version": 1,
  "hooks": {
    "sessionStart": [
      {
        "command": ".cursor/hooks/inject-context.ps1",
        "timeout": 5
      }
    ],
    "sessionEnd": [],
    "preToolUse": [
      {
        "type": "prompt",
        "prompt": "Before executing this tool, check: Is this a red-light scenario (security, auth, payments, migration touching >5 files)? If yes and no validated plan exists in context, return {\"decision\": \"deny\", \"reason\": \"Red-light scenario requires validated plan. Use /plan first.\"}. Otherwise return {\"decision\": \"allow\"}",
        "matcher": "write",
        "timeout": 5
      }
    ],
    "postToolUse": [],
    "postToolUseFailure": [],
    "subagentStart": [],
    "subagentStop": [],
    "beforeShellExecution": [],
    "afterShellExecution": [],
    "beforeMCPExecution": [],
    "afterMCPExecution": [],
    "beforeReadFile": [],
    "afterFileEdit": [
      {
        "command": ".cursor/hooks/post-edit-check.ps1"
      }
    ],
    "beforeSubmitPrompt": [
      {
        "type": "prompt",
        "prompt": "Analyze this prompt. Is it requesting complex code generation (new features, refactoring >3 files, security-sensitive, architectural changes)? If YES and user has NOT provided project context or referenced a research/plan document, return {\"continue\": false, \"user_message\": \"Complex task detected. Please start with /research or provide your ai-context.md\"}. If simple task or context provided, return {\"continue\": true}.",
        "timeout": 10
      }
    ],
    "preCompact": [],
    "stop": [
      {
        "command": ".cursor/hooks/extract-learnings.ps1",
        "loop_limit": 3
      }
    ],
    "afterAgentResponse": [],
    "afterAgentThought": [],
    "beforeTabFileRead": [],
    "afterTabFileEdit": []
  }
}
